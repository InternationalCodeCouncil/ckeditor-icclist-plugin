!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,n){"use strict";!function(){function e(e){return t(e,e.activeShiftEnterMode,1)}function t(e,t,n){if(n=e.config.forceEnterMode||n,"wysiwyg"==e.mode){t||(t=e.activeEnterMode);var r=e.elementPath();r.isContextFor("p")||(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?CKEDITOR.plugins.enterkey.enterBr(e,t,null,n):CKEDITOR.plugins.enterkey.enterBlock(e,t,null,n),e.fire("saveSnapshot")}}function n(e){for(var t=e.getSelection().getRanges(!0),n=t.length-1;n>0;n--)t[n].deleteContents();return t[0]}function r(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);if(e.root.equals(t))return e;var n=new CKEDITOR.dom.range(t);return n.moveToRange(e),n}CKEDITOR.plugins.add("iccenterkey",{init:function(n){n.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e)}}),n.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),n.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var i=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark(),l=/^h[1-6]$/;CKEDITOR.plugins.enterkey={enterInEmptyBlockquote:function(e,t){e.breakParent(e.getParent()),e.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||e.getPrevious().remove(),e.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||e.getNext().remove(),t.moveToElementEditStart(e),t.select()},calculateNewListIndex:function(e){var t=1;if(e&&e.findOne("p span.label")){var n=e.findOne("p span.label"),r=CKEDITOR.plugins.list.parseOrdinal(n.getHtml());if(r){var i=CKEDITOR.plugins.list.translateOrdinal(r.ordinal,1);t=r.replaceOrdinal(i)}}return t},addListItemElements:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0;if(e.is("li")?e.getChildren().count()>0&&e.getChildren().getItem(0).type===CKEDITOR.NODE_ELEMENT&&"p"===e.getChildren().getItem(0).getName()?i=e.getChildren().getItem(0):(i=t.createElement("p"),e.getChildren().count()>0?i.insertBefore(e.getChildren().getItem(0)):i.appendTo(e)):e.is("p")&&(i=e),r){var s=this.calculateNewListIndex(n);if(i){var l=void 0;i.getChildren().count()>0&&i.getChildren().getItem(0)===CKEDITOR.NODE_ELEMENT&&"span"===i.getChildren().getItem(0).getName()&&i.getChildren().getItem(0).hasClass("label")?(l=i.getChildren().getItem(0),l.getFirst()||l.appendText(s)):(l=t.createElement("span"),l.addClass("label"),l.appendText(s),i.getFirst()?l.insertBefore(i.getFirst()):i.append(l)),l&&t.createText(" ").insertAfter(l)}}return i},isListItemEmpty:function(e,t){for(var n=e.getChildCount(),r=!0,l=0;l<n;l++){var o=e.getChild(l);if(o&&!(s(o)||i(o)||o.type===CKEDITOR.NODE_TEXT&&" "===o.getText()||o.type===CKEDITOR.NODE_ELEMENT&&("span"===o.getName()&&o.hasClass("label")||"p"===o.getName()&&this.isListItemEmpty(o,t)||o.getName()in CKEDITOR.dtd.$empty))){r=!1;break}}return r},inOrderedList:function(e){var t=e.getAscendant({ul:1,ol:1});return t&&"ol"===t.getName()},enterBlock:function(e,t,o,a){if(o=o||n(e)){o=r(o);var d=o.document,E=o.checkStartOfBlock(),c=o.checkEndOfBlock(),g=e.elementPath(o.startContainer),u=g.block,m=t==CKEDITOR.ENTER_DIV?"div":"p",f=void 0,v=u.getAscendant("li",!0)&&CKEDITOR.plugins.enterkey.inOrderedList(u);if(E&&c||v&&CKEDITOR.plugins.enterkey.isListItemEmpty(u.getAscendant("li",!0),e)){if(u&&(u.is("li")||u.getParent().is("li")))return void CKEDITOR.plugins.enterkey.enterInEmptyListItem(u,e,g,f,d,t);if(u&&u.getParent().is("blockquote"))return void CKEDITOR.plugins.enterkey.enterInEmptyBlockquote(u,o)}else if(u&&u.is("pre")&&!c)return void CKEDITOR.plugins.enterkey.enterBr(e,t,o,a);var T=o.splitBlock(m);if(T){var p=T.previousBlock,I=T.nextBlock,O=T.wasStartOfBlock,C=T.wasEndOfBlock,R=void 0,D=void 0;if(I?(R=I.getParent(),R.is("li")&&(D=R.clone(),I.breakParent(R),I.move(I.getNext(),1))):p&&(R=p.getParent())&&R.is("li")&&(D=R.clone(),p.breakParent(R),R=p.getNext(),o.moveToElementEditStart(R),p.move(p.getPrevious())),O||C){var k=void 0;p?(p.is("li")||!l.test(p.getName())&&!p.is("pre"))&&(D=p.getAscendant("li",!0),f=p.clone()):I&&(f=I.clone()),f?a&&!f.is("li")&&f.renameNode(m):R&&R.is("li")?f=R:(f=d.createElement(m),p&&(k=p.getDirection())&&f.setAttribute("dir",k));var K=T.elementPath;if(K)for(var N=0,b=K.elements.length;N<b;N++){var y=K.elements[N];if(y.equals(K.block)||y.equals(K.blockLimit))break;CKEDITOR.dtd.$removeEmpty[y.getName()]&&(y=y.clone(),f.moveChildren(y),f.append(y))}var h=CKEDITOR.plugins.enterkey.addListItemElements(f,d,D,v);f.appendBogus(),f.getParent()||o.insertNode(f),f.is("li")&&f.removeAttribute("value"),!CKEDITOR.env.ie||!O||C&&p.getChildCount()||(o.moveToElementEditStart(C?p:f),o.select()),o.moveToElementEditEnd(h)}else{if(I.is("li")){var A=o.clone();A.selectNodeContents(I);var B=new CKEDITOR.dom.walker(A);B.evaluator=function(e){return!(s(e)||i(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},R=B.next(),R&&R.type==CKEDITOR.NODE_ELEMENT&&R.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?d.createElement("br"):d.createText(" ")).insertBefore(R)}if(p&&p.is("li")?D=p:p.getParent()&&p.getParent().is("li")&&(D=p.getParent()),I){var P=CKEDITOR.plugins.enterkey.addListItemElements(I,d,D,v);o.moveToElementEditEnd(P)}}o.select(),o.scrollIntoView()}}},enterAtEndOfHeader:function(e,t,n){var r=void 0,i=void 0;(i=e.getDirection())?(r=t.createElement("div"),r.setAttribute("dir",i),r.insertAfter(e),n.setStart(r,0)):(t.createElement("br").insertAfter(e),CKEDITOR.env.gecko&&t.createText("").insertAfter(e),n.setStartAt(e.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START))},enterBr:function(e,t,r,i){if(r=r||n(e)){var s=r.document,o=r.checkEndOfBlock(),a=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),d=a.block,E=d&&a.block.getName();if(!i&&d&&("li"==d.getParent().getName()||"li"==E))return void CKEDITOR.plugins.enterkey.enterBlock(e,t,r,i);if(!i&&o&&l.test(E))this.enterAtEndOfHeader(d,s,r);else{var c=void 0;c="pre"==E&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?s.createText("\r"):s.createElement("br"),r.deleteContents(),r.insertNode(c),CKEDITOR.env.needsBrFiller?(s.createText("\ufeff").insertAfter(c),o&&(d||a.blockLimit).appendBogus(),c.getNext().$.nodeValue="",r.setStartAt(c.getNext(),CKEDITOR.POSITION_AFTER_START)):r.setStartAt(c,CKEDITOR.POSITION_AFTER_END)}r.collapse(!0),r.select(),r.scrollIntoView()}},enterInEmptyListItem:function(e,t,n,r,i,s){e.is("li")||(e=e.getParent());var l=e.getParent(),o=l.getParent(),a=!e.hasPrevious(),d=!e.hasNext(),E=t.getSelection(),c=E.createBookmarks(),g=e.getDirection(1),u=e.getAttribute("class"),m=e.getAttribute("style"),f=o.getDirection(1)!=g,v=t.enterMode,T=v!=CKEDITOR.ENTER_BR||f||m||u,p=void 0,I=o&&("div"===o.getName()||o.hasClass("list")),O=I?o:l,C=void 0;if(o.is("li"))a||d?(a&&d&&l.remove(),e[d?"insertAfter":"insertBefore"](o)):e.breakParent(o);else if(T)n.block.is("li")?(r=i.createElement(s==CKEDITOR.ENTER_P?"p":"div"),f&&r.setAttribute("dir",g),m&&r.setAttribute("style",m),u&&r.setAttribute("class",u),e.moveChildren(r)):r=n.block,a||d?r[a?"insertBefore":"insertAfter"](O):(e.breakParent(O),r.insertAfter(O)),e.remove();else{if(e.appendBogus(!0),a||d)if(CKEDITOR.plugins.enterkey.isListItemEmpty(e,t)){var R=i.createElement("p");R.appendBogus(!0),R[a?"insertBefore":"insertAfter"](O),C=R}else for(;p=e[a?"getFirst":"getLast"]();)p[a?"insertBefore":"insertAfter"](O);else if(e.breakParent(O),CKEDITOR.plugins.enterkey.isListItemEmpty(e,t)){var D=i.createElement("p");D.appendBogus(!0),D.insertAfter(O),C=D}else for(;p=e.getLast();)p.insertAfter(O);e.remove()}if(C){var k=t.createRange();k.selectNodeContents(t.editable()),k.moveToElementEditEnd(C),k.select()}else E.selectBookmarks(c);return{block:e,newBlock:r}}}}()}]);